package com.exmaple.jarvis.chat.Activity;import android.app.Activity;import android.content.Intent;import android.graphics.Bitmap;import android.graphics.BitmapFactory;import android.net.Uri;import android.os.Bundle;import android.provider.MediaStore;import android.util.Log;import android.view.View;import android.widget.ImageView;import android.widget.TextView;import com.exmaple.jarvis.chat.CustomImageView;import com.exmaple.jarvis.chat.Dialog.IntentDialog;import java.io.FileNotFoundException;import java.io.InputStream;import androidx.appcompat.app.AlertDialog;import androidx.appcompat.app.AppCompatActivity;import androidx.fragment.app.FragmentManager;public class RegisterActivity extends AppCompatActivity {    private ImageView img_back;    private CustomImageView img_avatar;    private TextView tv_login_reminder;    private IntentDialog dialog = new IntentDialog();    @Override    protected void onCreate(Bundle savedInstanceState) {        super.onCreate(savedInstanceState);        setContentView(R.layout.activity_register);        setViewElement();    }    @Override    protected void onActivityResult(int requestCode, int resultCode, Intent imageReturnedIntent) {        super.onActivityResult(requestCode, resultCode, imageReturnedIntent);        dialog.dismiss();        switch (requestCode){            case 0:                if (resultCode == RESULT_OK && imageReturnedIntent.getExtras().get("data") != null){                    Bitmap selectedImage = (Bitmap) imageReturnedIntent.getExtras().get("data");                    img_avatar.setImageBitmap(selectedImage);                }            case 1:                if (resultCode == RESULT_OK && imageReturnedIntent.getData() != null) {                    final Uri imageUri = imageReturnedIntent.getData();                    InputStream imageStream = null;                    try {                        imageStream = getContentResolver().openInputStream(imageUri);                    } catch (FileNotFoundException e) {                        e.printStackTrace();                    }                    final Bitmap selectedImage = BitmapFactory.decodeStream(imageStream);                    img_avatar.setImageBitmap(selectedImage);                }        }    }    private void showDialog() {        FragmentManager fragmentManager = getSupportFragmentManager();        dialog.show(fragmentManager, "dialog");    }    private void setViewElement() {        img_back = findViewById(R.id.img_back);        img_avatar = (CustomImageView) findViewById(R.id.img_avatar);        tv_login_reminder = findViewById(R.id.tv_login_reminder);        img_back.setOnClickListener(new View.OnClickListener() {            @Override            public void onClick(View v) {                finish();            }        });        tv_login_reminder.setOnClickListener(new View.OnClickListener() {            @Override            public void onClick(View v) {                finish();            }        });        img_avatar.setOnClickListener(new View.OnClickListener() {            @Override            public void onClick(View v) {                showDialog();            }        });    }}